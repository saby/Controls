@width-TreeGridView-levelPadding_size_s_val:                      20px;
@width-TreeGridView-levelPadding_size_m_val:                      30px;
@width-TreeGridView-levelPadding_size_l_val:                      38px;
@width-TreeGridView-levelPadding_size_xl_val:                     46px;

@_hierarchy_offset_s_treeGrid:    @expander_s_padding-left_treeGrid + @expander_s_padding-right_treeGrid + @expander_width_treeGrid;
@_hierarchy_offset_m_treeGrid:    @expander_m_padding-left_treeGrid + @expander_m_padding-right_treeGrid + @expander_width_treeGrid;
@_hierarchy_offset_l_treeGrid:    @expander_l_padding-left_treeGrid + @expander_l_padding-right_treeGrid + @expander_width_treeGrid;
@_hierarchy_offset_xl_treeGrid:   @expander_xl_padding-left_treeGrid + @expander_xl_padding-right_treeGrid + @expander_width_treeGrid;

.controls-TreeGrid__row-expander_size_s_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_size_s_theme-@{themeName} {
   padding-top: @expander_s_padding-top_treeGrid;
   padding-bottom: @expander_s_padding-bottom_treeGrid;
   padding-left: @expander_s_padding-left_treeGrid;
   padding-right: @expander_s_padding-right_treeGrid;
}
.controls-TreeGrid__row-expander_size_m_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_size_m_theme-@{themeName} {
   padding-top: @expander_m_padding-top_treeGrid;
   padding-bottom: @expander_m_padding-bottom_treeGrid;
   padding-left: @expander_m_padding-left_treeGrid;
   padding-right: @expander_m_padding-right_treeGrid;
}
.controls-TreeGrid__row-expander_size_l_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_size_l_theme-@{themeName} {
   padding-top: @expander_l_padding-top_treeGrid;
   padding-bottom: @expander_l_padding-bottom_treeGrid;
   padding-left: @expander_l_padding-left_treeGrid;
   padding-right: @expander_l_padding-right_treeGrid;
}
.controls-TreeGrid__row-expander_size_xl_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_size_xl_theme-@{themeName} {
   padding-top: @expander_xl_padding-top_treeGrid;
   padding-bottom: @expander_xl_padding-bottom_treeGrid;
   padding-left: @expander_xl_padding-left_treeGrid;
   padding-right: @expander_xl_padding-right_treeGrid;
}
.controls-TreeGrid__row-expander_size_default_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_size_default_theme-@{themeName} {
   padding-top: @expander_default_padding-top_treeGrid;
   padding-bottom: @expander_default_padding-bottom_treeGrid;
   padding-left: @expander_default_padding-left_treeGrid;
   padding-right: @expander_default_padding-right_treeGrid;
}

//выделение мастера верстается через before и after. В ие верстка через td. td могут иметь разную высоту.
//при этом если красить цветом сами td все ок, они рисуются одинаково, но через after это не работает, визаульно
//получается разная высота. По задаче надо переверстать выделение в ие, либо вообще везде.
//https://online.sbis.ru/opendoc.html?guid=fd048300-3223-4bb5-8982-db3a14a05996

.ws-is-ie {
   .controls-Grid__cell_master .controls-TreeGrid__row-expander_size_default_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_size_default_theme-@{themeName} {
      padding-top: @expander_s_padding-top_treeGrid - 1;
      padding-bottom: @item_padding-bottom_s_grid - 1;
   }
}

.controls-TreeGrid__row-expander_theme-@{themeName}, .controls-TreeGrid__row-expanderPadding_theme-@{themeName} {
   line-height: 1;
   display: inline-block;
   position: relative;
   min-height: @expander_height_treeGrid;
   min-width: @expander_width_treeGrid;
}

.controls-TreeGrid__node-footer-expanderPadding_theme-@{themeName} {
   line-height: 1;
   display: inline-block;
   position: relative;
   min-height: 0;
   min-width: @expander_width_treeGrid;
}

.controls-TreeGridView__dragTargetNode_theme-@{themeName} {
   border-top: @item_droppable_border_thickness_treeGrid solid @item_droppable_border_color_treeGrid;
   border-bottom: @item_droppable_border_thickness_treeGrid solid @item_droppable_border_color_treeGrid;
   position: absolute;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;

   //the z-index is larger than itemActions so that itemActions does not overlap the folder border when drag'n'drop.
   //Will be deleted by task: https://online.sbis.ru/opendoc.html?guid=7503eaab-e38a-4c6e-8f0d-940646d8bd28
   z-index: 2;
}
.controls-TreeGridView__dragTargetNode_first_theme-@{themeName} {
   border-left: @item_droppable_border_thickness_treeGrid solid @item_droppable_border_color_treeGrid;
}
.controls-TreeGridView__dragTargetNode_last_theme-@{themeName} {
   border-right: @item_droppable_border_thickness_treeGrid solid @item_droppable_border_color_treeGrid;
}
.controls-TreeGrid__row-expanderPadding {
   visibility: hidden;
}

.controls-TreeGrid__row-expander_node_default_theme-@{themeName}:before {
   color: @node_expander_icon-color_treeGrid;
   font-family: @node_expander_icon_font-family_treeGrid;
   font-size: @node_expander_icon-size_treeGrid;
   padding-left: @expander_width_treeGrid - @node_expander_icon-size_treeGrid;
   padding-top: (@expander_height_treeGrid - @node_expander_icon-size_treeGrid) / 2;
}

.controls-TreeGrid__row-expander_hiddenNode_default_theme-@{themeName}:before {
   color: @hidden-node_expander_icon-color_treeGrid;
   font-family: @hidden-node_expander_icon_font-family_treeGrid;
   font-size: @hidden-node_expander_icon-size_treeGrid;
   padding-left: @expander_width_treeGrid - @hidden-node_expander_icon-size_treeGrid;
   padding-top: (@expander_height_treeGrid - @hidden-node_expander_icon-size_treeGrid) / 2;
}

.controls-TreeGrid__row-expander_node_master_theme-@{themeName}:before {
   color: @master_node_expander_icon-color_treeGrid;
   font-family: @node_expander_icon_font-family_treeGrid;
   font-size: @master_node_expander_icon-size_treeGrid;
   padding-left: @expander_width_treeGrid - @master_node_expander_icon-size_treeGrid;
   padding-top: (@expander_height_treeGrid - @master_node_expander_icon-size_treeGrid) / 2;
}

.controls-TreeGrid__row-expander_hiddenNode_master_theme-@{themeName}:before {
   color: @master_hidden-node_expander_icon-color_treeGrid;
   font-family: @hidden-node_expander_icon_font-family_treeGrid;
   font-size: @master_hidden-node_expander_icon-size_treeGrid;
   padding-left: @expander_width_treeGrid - @master_hidden-node_expander_icon-size_treeGrid;
   padding-top: (@expander_height_treeGrid - @master_hidden-node_expander_icon-size_treeGrid) / 2;
}

.controls-TreeGrid__row-expander_theme-@{themeName}:before {
   user-select: none;
   flex-shrink: 0;
   cursor: pointer;
   overflow: hidden;
   text-align: center;
   position: absolute;
}
.controls-TreeGrid__row-expander_node_default_collapsed_theme-@{themeName}:before,
.controls-TreeGrid__row-expander_node_master_collapsed_theme-@{themeName}:before {
   content: '\e96e';
}
.controls-TreeGrid__row-expander_node_default_expanded_theme-@{themeName}:before,
.controls-TreeGrid__row-expander_node_master_expanded_theme-@{themeName}:before {
   content: '\e96d';
}
.controls-TreeGrid__row-expander_hiddenNode_default_collapsed_theme-@{themeName}:before,
.controls-TreeGrid__row-expander_hiddenNode_master_collapsed_theme-@{themeName}:before {
   content: '\e9c2';
}
.controls-TreeGrid__row-expander_hiddenNode_default_expanded_theme-@{themeName}:before,
.controls-TreeGrid__row-expander_hiddenNode_master_expanded_theme-@{themeName}:before {
   content: '\e9c1';
}

.controls-TreeGrid__row-expander__spacingTop_default_theme-@{themeName} {
   margin-top: @item_padding-top_default_grid;
}
.controls-TreeGrid__row-expander__spacingTop_m_theme-@{themeName} {
   margin-top: @item_padding-top_s_grid;
}
.controls-TreeGrid__row-expander__spacingTop_l_theme-@{themeName} {
   margin-top: @item_padding-top_l_grid;
}

.controls-TreeGrid__row-expander__spacingBottom_default_theme-@{themeName} {
   margin-bottom: @item_padding-bottom_default_grid;
}
.controls-TreeGrid__row-expander__spacingBottom_m_theme-@{themeName} {
   margin-bottom: @item_padding-bottom_s_grid;
}
.controls-TreeGrid__row-expander__spacingBottom_l_theme-@{themeName} {
   margin-bottom: @item_padding-bottom_l_grid;
}

.controls-TreeGrid__row {
   display: inline-flex;
}
.controls-TreeGrid__row-levelPadding {
   flex-shrink: 0;
   display: inline-block;
}
.controls-TreeGrid__nodeFooterContent_theme-@{themeName} {
   display: inline-flex;
   align-items: baseline;
   min-height: @node-footer_min-heght;
   box-sizing: border-box;
   border-top-style: solid;
}
.controls-TreeGrid__nodeFooterContent_padding-top-s_theme-@{themeName} {
   padding-top: @node-footer_padding-top-s;
}
.controls-TreeGrid__nodeFooterContent_padding-top-l_theme-@{themeName} {
   padding-top: 0;
}
.controls-TreeGrid__nodeFooterContent_theme-@{themeName}:before {
    content: '\200b';
    font-size: @node-footer_max-font-size_treeGrid;
 }
.controls-TreeGrid__row-levelPadding_size_default_theme-@{themeName} {
   width: @_hierarchy_offset_s_treeGrid;
}
.controls-TreeGrid__row-levelPadding_size_s_theme-@{themeName} {
   width: @_hierarchy_offset_s_treeGrid;
}
.controls-TreeGrid__row-levelPadding_size_m_theme-@{themeName} {
   width: @_hierarchy_offset_m_treeGrid;
}
.controls-TreeGrid__row-levelPadding_size_l_theme-@{themeName} {
   width: @_hierarchy_offset_l_treeGrid;
}
.controls-TreeGrid__row-levelPadding_size_xl_theme-@{themeName}{
   width: @_hierarchy_offset_xl_treeGrid;
}
.controls-TreeGrid__row-cell_theme-@{themeName}.controls-TreeGrid__row-cell__node_theme-@{themeName},
.controls-TreeGrid__row-cell__node_theme-@{themeName} .controls-EditingTemplateText_theme-@{themeName} {
  font-size: @node_font-size_treeGrid;
}
.controls-TreeGrid__row-cell_theme-@{themeName}.controls-TreeGrid__row-cell__hiddenNode_theme-@{themeName},
.controls-TreeGrid__row-cell__hiddenNode_theme-@{themeName} .controls-EditingTemplateText_theme-@{themeName} {
  font-size: @hidden-node_font-size_treeGrid;
}
.controls-TreeGrid__row-cell_theme-@{themeName}.controls-TreeGrid__row-cell__item_theme-@{themeName},
.controls-TreeGrid__row-cell__item_theme-@{themeName} .controls-EditingTemplateText_theme-@{themeName} {
  font-size: @item_font-size_m_grid;
}

.controls-TreeGrid__nodeFooterContent_withRowSeparator_theme-@{themeName} {
   border-top-color: @item_separator_s_color_list;
}

.controls-TreeGrid__nodeFooterContent_withRowSeparator-l_theme-@{themeName} {
   border-top-color: @item_separator_l_color_list;
}
.controls-TreeGrid__nodeFooterContent_withoutRowSeparator_theme-@{themeName} {
   border-top-color: transparent;
}

.controls-TreeGrid__nodeFooterContent_rowSeparatorSize-s_theme-@{themeName} {
   border-top-width: @item-separator_s_thickness_list;
}

.controls-TreeGrid__nodeFooterContent_rowSeparatorSize-l_theme-@{themeName} {
   border-top-width: @item-separator_l_thickness_list;
}

// Отступы подвала слева
.controls-TreeGrid__nodeFooterContent_spacingLeft-default_theme-@{themeName} {
   padding-left: @item_padding-left_default_list;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-null_theme-@{themeName} {
   padding-left: 0;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-xs_theme-@{themeName} {
   padding-left: @item_padding-left_xs_list;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-s_theme-@{themeName} {
   padding-left: @item_padding-left_s_list;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-m_theme-@{themeName} {
   padding-left: @item_padding-left_m_list;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-l_theme-@{themeName} {
   padding-left: @item_padding-left_l_list;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-xl_theme-@{themeName} {
   padding-left: @item_padding-left_xl_list;
}

.controls-TreeGrid__nodeFooterContent_spacingLeft-xxl_theme-@{themeName} {
   padding-left: @item_padding-left_2xl_list;
}

// Отступы подвала справа
.controls-TreeGrid__nodeFooterContent_spacingRight-default_theme-@{themeName} {
   padding-right: @item_padding-right_default_list;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-null_theme-@{themeName} {
   padding-right: 0;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-xs_theme-@{themeName} {
   padding-right: @item_padding-right_xs_list;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-s_theme-@{themeName} {
   padding-right: @item_padding-right_s_list;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-m_theme-@{themeName} {
   padding-right: @item_padding-right_m_list;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-l_theme-@{themeName} {
   padding-right: @item_padding-right_l_list;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-xl_theme-@{themeName} {
   padding-right: @item_padding-right_xl_list;
}

.controls-TreeGrid__nodeFooterContent_spacingRight-xxl_theme-@{themeName} {
   padding-right: @item_padding-right_2xl_list;
}

.controls-Grid__row-cell__content.controls-TreeGrid__row-cell__firstColumn__contentSpacing_null {
   padding-left: 0;
}
// For right vertiacal align of items inside block with display: table-cell.
.controls-Grid_table-layout .controls-TreeGridView__row-cell_innerWrapper {
   display: flex;
   min-height: 100%;
}

// Master list sets ::before on selected item, witch overflows expander. It has z-index: 2 and pointer-events: none, but
// Old IE doesn't support pointer-events.
.ws-is-ie10 .controls-TreeGrid__row-expander {
   z-index: 2;
}

.controls-Grid__row-cell-background-editing_theme-@{themeName} > .controls-TreeGridView__row-cell_innerWrapper > .controls-itemActionsV {
   display: inline-block;
}

.ws-is-hover {
   .controls-TreeGrid__row-expander_node_default_theme-@{themeName}:hover:before {
      color: @node_expander_hover_icon-color_treeGrid;
   }
   .controls-TreeGrid__row-expander_hiddenNode_default_theme-@{themeName}:hover:before {
      color: @hidden-node_expander_hover_icon-color_treeGrid;
   }
   .controls-TreeGrid__row-expander_node_master_theme-@{themeName}:hover:before {
      color: @master_node_expander_hover_icon-color_treeGrid;
   }
   .controls-TreeGrid__row-expander_hiddenNode_master_theme-@{themeName}:hover:before {
      color: @master_hidden-node_expander_hover_icon-color_treeGrid;
   }

   .controls-BaseControl_showActions {
      .controls-Grid__row:hover > .controls-TreeGrid__row-cell_theme-@{themeName} > .controls-TreeGridView__row-cell_innerWrapper > .controls-itemActionsV {
         display: inline-block;
      }
   }
}
