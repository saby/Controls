@spacing_Infobox-between-border-arrow: (@arrow_base_length_infobox - @arrow_side_length_infobox)/2;
.controls-InfoBoxTemplate {
   display: flex;
   height: 100%;
}
.controls-InfoBoxTemplate_theme-@{themeName} {
   //todo: will be fixed by https://online.sbis.ru/opendoc.html?guid=3b0e32ca-240a-4047-a64d-e62af28420e9
   .controls-StickyHeader__background, .controls-Grid__header-cell {
      background-color: @background-color_infobox;
   }
}

.controls-InfoBoxTemplate__arrow-side-position-left {
   flex-direction: row-reverse;
}

.controls-InfoBoxTemplate__arrow-side-position-top {
   flex-direction: column-reverse;
}

.controls-InfoBoxTemplate__arrow-side-position-bottom {
   flex-direction: column;
}

.controls-InfoBoxTemplate__arrow_theme-@{themeName} {
   width: @arrow_side_length_infobox;
   height: @arrow_side_length_infobox;
   border-width: @border-thickness_infobox;
   background: @background-color_infobox;
}

.controls-InfoBoxTemplate__arrow{
   content: '';
   box-sizing: border-box;
   position: relative;
   border-style: solid;
   border-top: none;
   border-left: none;
}

//обводка стрелки
.controls-InfoBoxTemplate__arrow {
  &-danger_theme-@{themeName}{
    border-right-color: @danger_color;
    border-bottom-color: @danger_color;
  }
  &-warning_theme-@{themeName}{
    border-right-color: @warning_color;
    border-bottom-color: @warning_color;
  }
  &-success_theme-@{themeName}{
    border-right-color: @success_color;
    border-bottom-color: @success_color;
  }
  &-primary_theme-@{themeName}{
    border-right-color: @primary_color;
    border-bottom-color: @primary_color;
  }
  &-info_theme-@{themeName}{
    border-right-color: @unaccented_color;
    border-bottom-color: @unaccented_color;
  }
  &-secondary_theme-@{themeName}{
    border-right-color: @secondary_border-color_infobox;
    border-bottom-color: @secondary_border-color_infobox;
  }
  &-default_theme-@{themeName}{
    border-right-color: @border-color_infobox;
    border-bottom-color: @border-color_infobox;
  }
}

.controls-InfoBoxTemplate_style_outline_danger_theme-@{themeName} {
  background: @background-color_infobox;
  box-shadow: @invalid_box-shadow-color_infobox @box-shadow-offset_infobox;
  border: @border-thickness_infobox solid @danger_color;
}

.controls-InfoBoxTemplate_style_outline_default_theme-@{themeName} {
  background: @background-color_infobox;
  box-shadow: @box-shadow-color_infobox @box-shadow-offset_infobox;
  border: @border-thickness_infobox solid @border-color_infobox;
}

.controls-InfoBoxTemplate_style_marker_theme-@{themeName} {
  background: @background-color_infobox;
  box-shadow: @box-shadow-color_infobox @box-shadow-offset_infobox;
  border: @border-thickness_infobox solid @border-color_infobox;
}

.controls-InfoBoxTemplate_style_marker-top_ {
   &danger_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @danger_color;
   }
   &warning_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @warning_color;
   }
   &success_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @success_color;
   }
   &primary_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @primary_color;
   }
   &info_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @unaccented_color;
   }
   &secondary_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @secondary_border-color_infobox;
   }
   &default_theme-@{themeName}{
     border-top: @marker-thickness_infobox solid @border-color_infobox;
   }
 }

.controls-InfoBoxTemplate_style_marker-bottom_ {
  &danger_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @danger_color;
  }
  &warning_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @warning_color;
  }
  &success_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @success_color;
  }
  &primary_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @primary_color;
  }
  &info_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @unaccented_color;
  }
  &secondary_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @secondary_border-color_infobox;
  }
  &default_theme-@{themeName}{
    border-bottom: @marker-thickness_infobox solid @border-color_infobox;
  }
}

.controls-InfoBoxTemplate_style_marker-left_ {
  &danger_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @danger_color;
  }
  &warning_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @warning_color;
  }
  &success_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @success_color;
  }
  &primary_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @primary_color;
  }
  &info_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @unaccented_color;
  }
  &secondary_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @secondary_border-color_infobox;
  }
  &default_theme-@{themeName}{
    border-left: @marker-thickness_infobox solid @border-color_infobox;
  }
}

.controls-InfoBoxTemplate_style_marker-right_ {
  &danger_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @danger_color;
  }
  &warning_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @warning_color;
  }
  &success_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @success_color;
  }
  &primary_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @primary_color;
  }
  &info_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @unaccented_color;
  }
  &secondary_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @secondary_border-color_infobox;
  }
  &default_theme-@{themeName}{
    border-right: @marker-thickness_infobox solid @border-color_infobox;
  }
}


.controls-InfoBoxTemplate__content {
   position: relative;
   box-sizing: border-box;
   flex-shrink: 1;
   height: 100%;
   width: 100%;
   overflow: hidden;
}

.controls-InfoBoxTemplate__content_theme-@{themeName} {
   max-width: @max-width_infobox;
}

.controls-InfoBoxTemplate__closeButton {
   position: absolute;
   cursor: pointer;
}

.controls-InfoBoxTemplate__closeButton_theme-@{themeName} {
   top: @close-button_offset-top_infobox;
   right: @close-button_offset-right_infobox;
}

/**
 * In firefox, the text baseline is 1px higher than the standard.
 * Compensate for this by reducing the indentation between the close button and the upper border by 1px.
 * Presumably the problem is in the font. Error written https://online.sbis.ru/opendoc.html?guid=1e389bc5-8be7-4394-abdd-231e3ec040a8
 */
.ws-is-firefox {
  .controls-InfoBoxTemplate__closeButton_theme-@{themeName} {
    top: @close-button_offset-top_infobox + 1;
  }
}

.controls-InfoBoxTemplate__arrow-wrapper {
   flex-shrink: 0;
}

.controls-InfoBoxTemplate__arrow-wrapper-top_theme-@{themeName}, .controls-InfoBoxTemplate__arrow-wrapper-bottom_theme-@{themeName} {
   width: @target_offset_infobox + 1;
   height: @target_offset_infobox;

}
.controls-InfoBoxTemplate__arrow-wrapper-left_theme-@{themeName}, .controls-InfoBoxTemplate__arrow-wrapper-right_theme-@{themeName} {
   width: @target_offset_infobox;
   height: @target_offset_infobox + 1;
}

.controls-InfoBoxTemplate__arrow-top_theme-@{themeName} {
   transform: rotate(-135deg);
   top: @arrow_side_length_infobox/2 - @border-thickness_infobox;
}

.controls-InfoBoxTemplate__arrow-bottom_theme-@{themeName} {
   transform: rotate(45deg);
   bottom: @arrow_side_length_infobox/2;
}

.controls-InfoBoxTemplate__arrow-top_theme-@{themeName}, .controls-InfoBoxTemplate__arrow-bottom_theme-@{themeName} {
   &.controls-InfoBoxTemplate__arrow-position-start_theme-@{themeName} {
      left: @arrow_offset_infobox + @spacing_Infobox-between-border-arrow  + @border-thickness_infobox;
   }

   &.controls-InfoBoxTemplate__arrow-position-end_theme-@{themeName} {
      right: @arrow_offset_infobox + @spacing_Infobox-between-border-arrow + @border-thickness_infobox;
   }
}

.controls-InfoBoxTemplate__arrow-left_theme-@{themeName} {
   transform: rotate(135deg);
   left: @arrow_side_length_infobox/2 - @border-thickness_infobox;
}

.controls-InfoBoxTemplate__arrow-right_theme-@{themeName} {
   transform: rotate(-45deg);
   right: @arrow_side_length_infobox/2;
}

.controls-InfoBoxTemplate__arrow-left_theme-@{themeName}, .controls-InfoBoxTemplate__arrow-right_theme-@{themeName} {
   &.controls-InfoBoxTemplate__arrow-position-start_theme-@{themeName} {
      top: @arrow_offset_infobox + @spacing_Infobox-between-border-arrow + @border-thickness_infobox;
   }
   &.controls-InfoBoxTemplate__arrow-position-end_theme-@{themeName} {
      bottom: @arrow_offset_infobox + @spacing_Infobox-between-border-arrow + @border-thickness_infobox;
   }
}

.controls-InfoBoxTemplate__arrow-side-start {
   align-items: flex-start;
}

.controls-InfoBoxTemplate__arrow-side-center {
   align-items: center;
}

.controls-InfoBoxTemplate__arrow-side-end {
   align-items: flex-end;
}
