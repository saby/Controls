@z-index-Grid-results-cell: 1;

.controls-Grid {
   display: -ms-grid;
   display: grid;
   width: 100%;
   position: relative;
}

.controls-GridView__itemV_marker_theme-@{themeName} {
   position: absolute;
   width: @width_Grid-selection-marker;
   background-color: @color_Grid-selection-marker;
   left: 0;
}

.controls-GridView-without-rowSeparator_item_marker_theme-@{themeName} {
   height: ~'calc(100% + @{height_Grid-row-separator})';
   top: -@height_Grid-row-separator;
}

.controls-GridView-with-rowSeparator_item_marker_theme-@{themeName} {
   top: 0px;
   height: 100%;
}

.controls-Grid__header_theme-@{themeName} {
   display: contents;
   color: @color_Grid-header;
   cursor: default;
}
.controls-Grid__header-cell {
   height: 100%;
   box-sizing: border-box;
}

.controls-Grid__header-cell_min-width {
   min-width: 0;
}

.controls-Grid__header-cell_theme-@{themeName} {
   font-size: @font-size_Grid-header;
   z-index: 1;
   top: 0;
   background-color: @background-color_Grid-header;
   display: inline-flex;
   flex-direction: column;
}

.controls-Grid__multi-header-cell_min-height_theme-@{themeName} {
   min-height: @min-height_Grid-multi-header;
}

.controls-Grid__header-cell_min-height_theme-@{themeName} {
   min-height: @min-height_Grid-header;
}

.controls-Grid_columnScroll .controls-Grid__header-cell,
.controls-Grid_columnScroll .controls-Grid__results-cell {
   // With enabled column scroll and setting the value of grid column width as 'auto' in template columns, flex starts to shrink
   // because grid has no fixed width and hack as min-width allows such behaviour.
   min-width: auto;
}

.controls-Grid_columnScroll_wrapper {
   z-index: 4;
   position: sticky;
}

.controls-Grid__header-cell_spacing_money:after {
   content: ".99";
   visibility: hidden;
   display: inline-block;
}

.controls-Grid__header-cell__content_theme-@{themeName} {
   box-sizing: border-box;
   min-height: @min-height_Grid-multi-header;
   display: flex;
   justify-content: flex-start;
   align-items: baseline; //baseline align by default;
}

.controls-Grid__sorting-button {
   display: inline-flex;
}

.controls-Grid__row-header__content_baseline_theme-@{themeName}:before {
   content: '\200b';
   font-size: @font-size_Grid-header-cell-baseline;
}

.controls-Grid__row-multi-header__content_baseline_theme-@{themeName}:before {
   content: '\200b';
   font-size: @font-size_Grid-multi-header-cell-baseline;
}

.controls-Grid__header-cell_valign_bottom {
   justify-content: flex-end;
}

.controls-Grid__header-cell_valign_top {
   justify-content: flex-start;
}

.controls-Grid__header-cell_valign_middle {
   justify-content: center;
}


.controls-Grid__results {
   display: contents;
}

.controls-Grid__results-cell_theme-@{themeName} {
   background-color: @background-color_Grid-row-sticky;
   z-index: @z-index-Grid-results-cell;
   min-width: 0;
   min-height: @height_Grid-results-cell;
}
.controls-GridViewV__itemsContainer {
   display: contents;
}
.controls-Grid__row {
   display: contents;
}

.controls-Grid__cell_fit {
   // Default "min-width" value "auto" and width limited not working. Fix this bug by reset "min-width" value to "0".
   // http://css-live.ru/articles/chto-mozhet-polomat-maket-na-gridax-css-grid-layout.html
   min-width: 0;
   max-width: 100%;
}
.controls-Grid__row-cell {
   height: 100%;
   box-sizing: border-box;
   position: relative;
}
.controls-Grid__itemAction {
   z-index: @z-index-Grid-results-cell + 1 // на 1 больше чем у колонок results;
}


.controls-Grid__row-cell_theme-@{themeName} {
   border-top: @height_Grid-row-separator solid;
   font-size: @font-size_Grid-cell_m;
}

.controls-Grid__cell_fixed_theme-@{themeName} {
   z-index: 3;
   background-color: @background-color_Grid-row-sticky;
   // stickyHeader считает что колонка не зафиксированна если повесить overflow-y: hidden;, а без overflow-x: hidden оявляется горизонтальный скролл
   &:not(.controls-StickyHeader) {
      overflow: hidden;
   }
}


// In IE z-index on positioned elements and transform by itself create new "stacking contexts" on elements.
// Setting relative position for fixed column makes context-level higher then context-level of transformed column.
.ws-is-ie .controls-Grid__cell_fixed {
   position: relative;
}

.controls-Grid__cell_ellipsis {
   overflow: hidden;
   text-overflow: ellipsis;
   white-space: nowrap;
   max-width: 100%;
}

.controls-Grid__header-cell_halign_left {
   text-align: left;
}

.controls-Grid__header-cell_halign_right {
   text-align: right;
}

.controls-Grid__header-cell_halign_center {
   text-align: center;
}

.controls-Grid__row-cell__content_halign_left {
   justify-content: flex-start;
   text-align: left;
}

.controls-Grid__row-cell__content_halign_right {
   justify-content: flex-end;
   text-align: right;
}

.controls-Grid__row-cell__content_halign_center {
   justify-content: center;
   text-align: center;
}
.controls-Grid__row_editing {
   display: contents;
}
.controls-Grid_partial-support_theme-@{themeName} .controls-Grid__row_editing {
   display: grid;
   display: -ms-grid;
}
.ws-is-hover {
   .controls-Grid__row_highlightOnHover_default_theme-@{themeName}:hover .controls-Grid__row-cell-background-hover_theme-@{themeName} {
      background-color: @background-color_Grid-row_hover;
   }
   .controls-BaseControl_showActions .controls-Grid__row:hover {
      > .controls-Grid__row-cell,
      > .controls-itemActionsV__container {
         > .controls-itemActionsV {
            display: inline-block;
            visibility: visible;
         }
      }
      .controls-BreadCrumbsView__menu__dots {
         background-color: @background-color_Grid-row_hover;
         box-shadow: -15px 2px 4px -6px @background-color_Grid-row_hover;
      }
   }

}
.ws-is-hover {
   .controls-Grid__row_highlightOnHover_default_theme-@{themeName}.controls-Grid_row-cell_hovered_theme-@{themeName} {
      background-color: @background-color_Grid-row_hover;
   }

   .controls-BaseControl_showActions {
      .controls-Grid_row-cell_hovered_theme-@{themeName},
      .controls-Grid__row:hover {
         .controls-Grid__editArrow-blur_theme-@{themeName},
         .controls-Grid__editArrow-wrapper_theme-@{themeName} {
            visibility: visible;
         }
      }
   }

   .controls-BaseControl_showActions .controls-Grid_row-cell_hovered_theme-@{themeName} > .controls-itemActionsV {
      display: inline-block;
   }

   // Class controls-Grid_row-cell_hovered adds on all cells of hovered item only in browsers with partial grid support.
   .controls-Grid_row-cell_hovered_theme-@{themeName} .controls-ListView__checkbox-onhover {
      display: inline-block;
   }
}

.controls-Grid__row-cell-background-editing_theme-@{themeName} {
   background-color: @background-color_Grid-item_editing;
   > .controls-itemActionsV,
   +.controls-itemActionsV__container > .controls-itemActionsV
   {
      display: inline-block;
   }
}

.controls-Grid__row-cell_rowSpacingTop_default_theme-@{themeName} {
   padding-top: @spacing_Grid-row-between-content-borderTop_default - @height_Grid-row-separator;
}
.controls-Grid__row-cell_rowSpacingBottom_default_theme-@{themeName} {
   padding-bottom: @spacing_Grid-row-between-content-borderBottom_default;
}

.controls-Grid__row-cell_rowSpacingTop_m_theme-@{themeName} {
   padding-top: @spacing_Grid-row-between-content-borderTop_s - @height_Grid-row-separator;
}
.controls-Grid__row-cell_rowSpacingBottom_m_theme-@{themeName} {
   padding-bottom: @spacing_Grid-row-between-content-borderBottom_s;
}

.controls-Grid__row-cell_rowSpacingTop_l_theme-@{themeName} {
   padding-top: @spacing_Grid-row-between-content-borderTop_l - @height_Grid-row-separator;
}
.controls-Grid__row-cell_rowSpacingBottom_l_theme-@{themeName} {
   padding-bottom: @spacing_Grid-row-between-content-borderBottom_l;
}

.controls-Grid__cell_spacingLeft_theme-@{themeName} {
   padding-left: @spacing_Grid-column-between-content-borderLeft;
}

.controls-Grid__cell_spacingRight_theme-@{themeName} {
   padding-right: @spacing_Grid-column-between-content-borderRight;
}

.controls-Grid__cell_spacingLeft_s_theme-@{themeName} {
   padding-left: @spacing_Grid-column-between-content-borderLeft_s;
}

.controls-Grid__cell_spacingRight_s_theme-@{themeName} {
   padding-right: @spacing_Grid-column-between-content-borderRight_s;
}

.controls-Grid__cell_spacingLeft_null_theme-@{themeName} {
   padding-left: 0;
}

.controls-Grid__cell_spacingRight_null_theme-@{themeName} {
   padding-right: 0;
}


.controls-Grid__row-cell__content_hiddenForLadder {
   visibility: hidden;
}

.controls-Grid__row-ladder-cell {
   pointer-events: none;
   position: relative;
   z-index: 2;
}

.controls-Grid__row-ladder-cell__content_default_theme-@{themeName} {
   top: @spacing_Grid-row-between-content-borderTop_default;
}
.controls-Grid__row-ladder-cell__content_m_theme-@{themeName} {
   top: @spacing_Grid-row-between-content-borderTop_s;
}
.controls-Grid__row-ladder-cell__content_l_theme-@{themeName} {
   top: @spacing_Grid-row-between-content-borderTop_l;
}

.controls-Grid__row-ladder-cell__content {
   .position-sticky();
}

.controls-Grid__row-cell_withoutRowSeparator_theme-@{themeName} {
   border-top-color: transparent;
   border-bottom-color: transparent;
   min-height: @min-height_Grid-row;
}

.controls-Grid__row-cell_lastRow_theme-@{themeName} {
   border-bottom: @height_Grid-row-separator solid;
}

.controls-Grid__row-cell_first-row-in-group {
   border-top-color: transparent;
}

.controls-Grid__row-cell_withRowSeparator_firstRow_theme-@{themeName} {
   border-top-color: @border-color_Grid-firstRow-separator;
}

.controls-Grid__row-cell_withRowSeparator_notLastRow_theme-@{themeName} {
   min-height: @min-height_Grid-row;
}

.controls-Grid__row-cell_withRowSeparator_lastRow_theme-@{themeName} {
   border-bottom-color: @border-color_Grid-lastRow-separator;
   min-height: @min-height_Grid-row + @height_Grid-row-separator;
}

.controls-Grid__row-cell_withRowSeparator_theme-@{themeName} {
   border-top-color: @border-color_Grid-row-separator;
}

/* По умолчанию используется большая базова линия (первая строка всегда должна быть с большой базовой линией).
   Далее, в зависимости от задачи, по месту устанавливаются нужные классы:
   controls-Grid__row-cell__content_baseline_S
   controls-Grid__row-cell__content_baseline_M
   controls-Grid__row-cell__content_baseline_L */
.controls-Grid__row-cell__content_baseline_L_theme-@{themeName}:before {
   content: '\200b';
   font-size: @font-size_Grid-cell_l;
}

.controls-Grid__row-cell__content_baseline_M_theme-@{themeName}:before {
   content: '\200b';
   font-size: @font-size_Grid-cell_m;
}

.controls-Grid__row-cell__content_baseline_S_theme-@{themeName}:before {
   content: '\200b';
   font-size: @font-size_Grid-cell_s;
}

.controls-Grid__header-cell_baseline_XL_theme-@{themeName}:before {
   content: '\200b';
   font-size: @font-size_Grid-header_xl;
}

.controls-Grid__header-cell-content-block:before {
   display: block;
}

.controls-Grid__cell_spacingFirstCol_default_theme-@{themeName}, .controls-GridView__footer__paddingLeft_default_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_default;
}

.controls-Grid__cell_spacingFirstCol_null_theme-@{themeName}, .controls-GridView__footer__paddingLeft_null_theme-@{themeName} {
   padding-left: 0;
}

.controls-Grid__cell_spacingFirstCol_xs_theme-@{themeName}, .controls-GridView__footer__paddingLeft_xs_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_xs;
}

.controls-Grid__cell_spacingFirstCol_s_theme-@{themeName}, .controls-GridView__footer__paddingLeft_s_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_s;
}

.controls-Grid__cell_spacingFirstCol_m_theme-@{themeName}, .controls-GridView__footer__paddingLeft_m_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_m;
}

.controls-Grid__cell_spacingFirstCol_l_theme-@{themeName}, .controls-GridView__footer__paddingLeft_l_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_l;
}

.controls-Grid__cell_spacingFirstCol_xl_theme-@{themeName}, .controls-GridView__footer__paddingLeft_xl_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_xl;
}

.controls-Grid__cell_spacingFirstCol_xxl_theme-@{themeName}, .controls-GridView__footer__paddingLeft_xxl_theme-@{themeName} {
   padding-left: @spacing_Grid-row-between-content-borderLeft_xxl;
}

.controls-Grid__cell_spacingLastCol_default_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_default;
}

.controls-Grid__cell_spacingLastCol_null_theme-@{themeName} {
   padding-right: 0;
}

.controls-Grid__cell_spacingLastCol_xs_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_xs;
}

.controls-Grid__cell_spacingLastCol_s_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_s;
}

.controls-Grid__cell_spacingLastCol_m_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_m;
}

.controls-Grid__cell_spacingLastCol_l_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_l;
}

.controls-Grid__cell_spacingLastCol_xl_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_xl;
}

.controls-Grid__cell_spacingLastCol_xxl_theme-@{themeName} {
   padding-right: @spacing_Grid-row-between-content-borderRight_xxl;
}

.controls-Grid__cell_spacingBackButton_with_multiSelection_theme-@{themeName} {
   margin-left: -@click-area_width_checkbox;
}

.controls-GridView__item_active_theme-@{themeName} {
   background-color: @background-color_Grid-row_hover;
}

// Checkbox styles
.controls-Grid__row-cell-checkbox_theme-@{themeName} {
   min-width: @click-area_width_checkbox;
   max-width: @click-area_width_checkbox;
}

.controls-Grid__header-cell-checkbox_theme-@{themeName} {
   max-width: @click-area_width_checkbox;
}

.controls-Grid__header-cell-checkbox_min-width_theme-@{themeName} {
   min-width: @click-area_width_checkbox;
}

.controls-GridView__footer__paddingLeft_withCheckboxes_theme-@{themeName} {
   padding-left: @spacing_Grid-row-with-checkbox-between-content-borderLeft;
}

.controls-GridView__checkbox_theme-@{themeName} {
   position: relative;
}

.controls-Grid__row-cell__contentWrapper {
   display: inline-flex;
   width: 100%;
}

.controls-Grid__row-cell__content {
   width: 100%;
   display: inline-flex;
   align-items: baseline;
   min-width: 0; //https://css-tricks.com/flexbox-truncated-text/
   flex-shrink: 1;
}

//MasterList styles

.controls-Grid_master_theme-@{themeName} {
   padding-right: @border-width_List-masterList-right;
   box-sizing: border-box;
}

.ws-is-mobile-chrome-ios .controls-Grid__row-cell_selected-master_theme-@{themeName},
.ws-is-desktop-safari .controls-Grid__row-cell_selected-master_theme-@{themeName},
.ws-is-mobile-safari .controls-Grid__row-cell_selected-master_theme-@{themeName} {
   // ave safari 13
   // https://online.sbis.ru/opendoc.html?guid=6d560d7a-c140-4d06-a1b6-53b326efe950
   // иначе все position: absolute элементы внутри position: sticky
   // начинают сроиться относительно родителя уровнем выше
   transform: translateZ(0);
}

.controls-Grid__row-cell_selected-master_theme-@{themeName} {
   z-index: 1;
   background-color: @background-color_List-masterList-item_selected;

   &:before {
      content: '';
      z-index: 2;
      box-sizing: border-box;
      border-width: @border-width_List-masterList-item-top @border-width_List-masterList-item-right @border-width_List-masterList-item-bottom @border-width_List-masterList-item-left;
      border-style: solid;
      border-color: @border-color_List-masterList-item_selected-top @border-color_List-masterList-item_selected-right @border-color_List-masterList-item_selected-bottom @border-color_List-masterList-item_selected-left;
      box-shadow: @box-shadow_Grid-masterList-item_selected;
      width: ~'calc(100% + @{border-width_List-masterList-right})';
      position: absolute;
      left: 0;
      pointer-events: none;
      top: -@border-width_List-masterList-item-top;
      bottom: -@border-width_List-masterList-item-bottom;
   }
}

.controls-Grid__row-cell_selected__last-master_theme-@{themeName} {
   &:after {
      content: '';
      z-index: 1;
      height: 100%;
      top: 0;
      width: @border-width_List-masterList-right;
      position: absolute;
      right: -@border-width_List-masterList-right;
      background-color: @background-color_List-masterList-item_selected;
   }
}

.ws-is-ie {
   //pointer-events: none does not work in ie on pseudo elements
   //because of this, click on actions is didn't work
   //z-index: 2 is used is new browsers (chrome, ff) to overlap white line in :after
   //but in ie it works fine with z-index: 1
   .controls-Grid__row-cell_selected-master_theme-@{themeName}:before {
      z-index: 1;
   }
}
.ws-is-hover {
   .controls-Grid__row_master_theme-@{themeName}:hover .controls-Grid__row-cell-background-hover_theme-@{themeName} {
      background-color: @background-color_List-masterList-item_hover;
   }
}
.ws-is-no-touch {
   .controls-Grid__row_master_theme-@{themeName}.controls-Grid_row-cell_hovered_theme-@{themeName} {
      background-color: @background-color_List-masterList-item_hover;
   }
}

.controls-itemActionsV__container {
   position: sticky;
   right: 0;

   // Нужен отдельный стек z-index, иначе при скролле колонок из-за transform опции оказываются ниже данных таблицы и неправильно обрабатывается ховер
   // https://online.sbis.ru/opendoc.html?guid=6059b335-dad3-4458-b022-0260680d5c27
   z-index: 1;

   pointer-events: none;
   .controls-itemActionsV {
      pointer-events: auto;
   }
}

.controls-Grid__cell_header-content_border-bottom_theme-@{themeName} {
   border-bottom: @height_Grid-row-separator solid @border-color_Grid-lastRow-separator;
}
.controls-Grid__cell_header-content_border-transparent_theme-@{themeName} {
   border-bottom: @height_Grid-row-separator solid transparent;
}

.controls-Grid__cell_header-relative {
   position: relative;
}

.controls-Grid__header-cell_justify_content_left {
   justify-content: flex-start;
   text-align: left;
}

.controls-Grid__header-cell_justify_content_right {
   justify-content: flex-end;
   text-align: right;
}

.controls-Grid__header-cell_justify_content_center {
   justify-content: center;
   text-align: center;
}

.controls-Grid__header-cell_align_items_top {
   align-items: flex-start;
}

.controls-Grid__header-cell_align_items_bottom {
   align-items: flex-end;
}

.controls-Grid__header-cell_align_items_center {
   align-items: center;
}

.controls-Grid__editArrow-blur_theme-@{themeName},
.controls-Grid__editArrow-wrapper_theme-@{themeName} {
   visibility: hidden;
}

.controls-Grid__editArrow-wrapper_theme-@{themeName} {
   position: relative;
   flex-shrink: 9999999999;
   min-width: 0;
   display: flex;
   justify-content: flex-end;
}
.controls-Grid__editArrow-cellContent {
   flex-shrink:0;
   max-width: 100%;
}
.controls-Grid__editArrow-blur_theme-@{themeName} {
   height: 100%;
   min-height: @height_Grid-editArrow;
   display: inline-block;
   width: @spacing_Grid-editArrow_left;
   flex-shrink: 0;
   z-index: 0;
}

.controls-Grid__editArrow-blur_style-default_background {
   background: linear-gradient(90deg, @background-color_Grid-row_hover-transparent, @background-color_Grid-row_hover);
}

.controls-Grid__editArrow-blur_style-master_background {
   background: linear-gradient(90deg, @background-color_Grid-row_hover-transparent, @background-color_List-masterList-item_hover);
}


.controls-Grid__editArrow_theme-@{themeName} {
   position: relative;
   background: @background-color_Grid-row_hover;
   z-index: 1;
}

.controls-Grid__editArrow_style-default_background {
   background-color: @background-color_Grid-row_hover;
}

.controls-Grid__editArrow_style-master_background {
   background-color: @background-color_List-masterList-item_hover;
}

.controls-Grid__editArrow-overflow-ellipsis_theme-@{themeName} {
   margin-right: -@width_Grid-editArrow;
}
.controls-Grid__editArrow-separator_theme-@{themeName} {
   flex-shrink: 1;
   min-width: 0px;
   width: @spacing_Grid-editArrow_left;
}
.controls-Grid__editArrow-separator-big_theme-@{themeName} {
   flex-shrink: 1;
   min-width: 0px;
   width: @spacing_Grid-editArrow_left + @width_Grid-editArrow;
}

.controls-Grid__cell_valign_top {
   align-items: flex-start;
   height: 100%;
}

.controls-Grid__cell_valign_bottom {
   align-items: flex-end;
   height: 100%;
}

.controls-Grid__cell_valign_center {
   align-items: center;
   height: 100%;
}

.controls-Grid__cell-content_full-height {
   height: 100%;
}
