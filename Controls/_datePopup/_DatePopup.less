@import "_yearRange";
@import "_monthsRange";
@import "_dateRange";

.controls-PeriodDialog {
   flex-shrink: 1;
   display: flex;
   min-height: 1px;
   flex-direction: column;
   background-color: var(--background-color_datePicker);
   box-shadow: var(--box-shadow-size_datePicker) var(--box-shadow-color_datePicker);
   border-radius: var(--border-radius_datePicker);
   position: relative;
   z-index: 1;
}

.controls-PeriodDialog__body {
   max-height: calc(var(--monthnav_year_height_datePicker) + var(--monthnav_item_height_datePicker) * 12 + var(--calendar-header_height_datePicker) + var(--calendar-header_border-bottom-thickness_datePicker));
}

.controls-DatePopup__selector-marginTop_fontSize-m {
   margin-top: var(--shift-top_PeriodDialog-selector);
}

.controls-DatePopup__selector-marginTop_fontSize-l {
   margin-top: var(--shift-top_fontSize-l_PeriodDialog-selector);
}

.controls-DatePopup__selector-marginTop_fontSize-s {
   margin-top: var(--shift-top_fontSize-s_PeriodDialog-selector);
}

.controls-DatePopup__selector-marginLeft {
   margin-left: var(--shift-left_PeriodDialog-picker);
}

.controls-DatePopup__selector-marginLeft-withoutModeBtn {
   margin-left: var(--shift-left_PeriodDialog-picker-withoutModeBtn);
}

// Header
.controls-PeriodDialog__header {
   flex-shrink: 0;
   box-sizing: border-box;
   display: flex;
   align-items: center;
   background-color: var(--header_background-color_datePicker);
   padding-left: var(--header_padding-left_datePicker);
   height: var(--header_height_datePicker);
   border-radius: var(--border-radius_datePicker) var(--border-radius_datePicker) 0 0;
}

.controls-PeriodDialog__stateButton {
   padding-right: var(--switcher_offset_datePicker);
   width: var(--switcher_size_datePicker);
   height: var(--switcher_size_datePicker);
}

.controls-PeriodDialog__stateButton_icon {
   font-size: var(--switcher_icon-size_datePicker);
   line-height: var(--switcher_icon-size_datePicker);
   font-family: var(--icon_font-family_s);
   fill: var(--switcher_icon-color_datePicker);
   color: var(--switcher_icon-color_datePicker);
   cursor: pointer;
}

.ws-is-hover {
   .controls-PeriodDialog_stateButton_icon:hover {
      fill: var(--switcher_hover_icon-color_datePicker);
      color: var(--switcher_hover_icon-color_datePicker);
   }
}

.controls-PeriodDialog_stateButton_icon_focus:focus {
   fill: var(--switcher_hover_icon-color_datePicker);
   color: var(--switcher_hover_icon-color_datePicker);
}

.controls-PeriodDialog__header-period_link {
   flex-grow: 1;
   align-self: baseline;
}

.controls-PeriodDialog__header-period {
   flex-grow: 1;
   display: flex;
   align-items: center;
}

/*
     Механизмы рендеринга webkit и FF/IE по-разному реализуют высоту строки.
     Чтобы не было прыжков между вызывающим элементом и заголовком (который выровнен по базовой линии)
     вычитаем 1px (чтобы в FF/IE/EDGE было так же, как chrome).
     Вертикальное выравнивание элементов заголовка по центру не подойдёт, т.к по стандартам эл-ты в заголовках находится
     не по центру, а выше на 1px.
     Демо пример https://jsfiddle.net/yxf25pjh/3/
   */

.controls-PeriodDialog__header-period_link::before {
   content: '\200b';
   display: inline-block;
   width: 0;
   font-size: var(--header_lineheight_dialog);
}

.ws-is-mobile-safari,
.ws-is-firefox {
   .controls-PeriodDialog__header-period_link::before {
      font-size: calc(var(--header_lineheight_dialog) - 1px);
   }
}

.controls-PeriodDialog__header_inputs {
   display: flex;
   align-items: baseline;
}

.controls-PeriodDialog__header-rangeDash {
   display: inline-block;
   vertical-align: middle;
   width: var(--dash_length_dateRangeInput);
   border-bottom: var(--dash_thickness_dateRangeInput) solid var(--dash_color_dateRangeInput);
   margin: 0 var(--dash_padding-horizontal_dateRangeInput);
}

.controls-PeriodDialog__applyButton {
   margin: 0 var(--apply-button_offset_datePicker);
}

.controls-PeriodDialog__closeButton {
   margin-right: var(--close-button_offset_datePicker);
}

.controls-PeriodDialog__header_calendar {
   position: relative;
   display: flex;
   justify-content: center;
   align-items: center;
   cursor: pointer;

   &::before {
      text-align: center;
      content: attr(date);
      font-family: var(--font-family);
      position: absolute;
      height: var(--calendar-icon-size_datePicker);
      line-height: var(--calendar-icon-size_datePicker);
      width: var(--calendar-icon-size_datePicker);
      color: var(--secondary_color);
   }
}

.ws-is-ie11 {
   // Под IE свойство line-height считается неправильно в абсолютно спозиционированных контейнерах
   .controls-PeriodDialog__header_calendar::before {
      line-height: 0;
   }
}

.controls-PeriodDialog__header_calendar_svg {
   height: var(--calendar-icon-size_datePicker);
   width: var(--calendar-icon-size_datePicker);
}

.controls-PeriodDialog__header_calendar_svg-content {
   fill: var(--secondary_color);
}

.controls-icon_size-datePopupStateButton {
   font-size: var(--switcher_icon-size_datePicker);
   line-height: var(--switcher_icon-size_datePicker);
   width: var(--switcher_icon-size_datePicker);
   height: var(--switcher_icon-size_datePicker);
   font-family: var(--icon_font-family_s);
}

.controls-PeriodDialog__cursor-pointer {
   cursor: pointer;
}

.controls-PeriodDialog__months {
   display: flex;
   flex-direction: column;
   flex-shrink: 1;
   min-height: 1px;
}

.controls-PeriodDialog__picker {
   margin-top: var(--shift-top_PeriodDialog-picker);
   margin-left: var(--shift-left_PeriodDialog-picker);
}

.controls-PeriodDialog__picker-withoutModeBtn {
   margin-top: var(--shift-top_PeriodDialog-picker);
   margin-left: var(--shift-left_PeriodDialog-picker-withoutModeBtn);
}

.controls-Scroll__shadow_top_style-datePopup {
   background: linear-gradient(to bottom, var(--shadow_start-color_datePicker), var(--shadow_end-color_datePicker));
}
