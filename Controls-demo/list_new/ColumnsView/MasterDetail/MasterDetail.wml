<div class="controlsDemo__wrapper">
   <Controls.masterDetail:Base attr:class="demo-DragNDrop__MasterDetail">
      <ws:master>
         <div>
            <div class="ws-flexbox demo-DragNDrop__MasterDetail_search">
               <Controls.search:Input placeholder="Введите"
                                      attr:class="demo-DragNDrop__MasterDetail_master_search_input"/>
            </div>
            <Controls.scroll:Container attr:class="demo-DragNDrop__MasterDetail_master">
               <Controls.list:DataContainer name="dataContainer" source="{{_masterSource}}" keyProperty="id">
                  <div>
                     <Controls.list:Mover name="masterMover" parentProperty="Раздел"/>
                     <Controls.list:Container scope="{{content}}">
                        <Controls.masterDetail:List>
                           <Controls.treeGrid:View
                                   itemsReadyCallback="{{_itemsReadyCallbackMaster}}"
                                   itemsDragNDrop="{{true}}"
                                   on:dragStart="_dragStartMaster()"
                                   on:dragEnd="_dragEndMaster()"
                                   on:dragEnter="_dragEnterMaster()"
                                   parentProperty="Раздел"
                                   style="master"
                                   markerVisibility='visible'
                                   nodeProperty="Раздел@"
                                   expanderDisplayMode="adaptive"
                                   columns="{{gridColumns}}"
                           >
                              <ws:draggingTemplate>
                                 <ws:partial template="Controls/dragnDrop:DraggingTemplate"
                                             mainText="{{draggingTemplate.entity._options.mainText}}"
                                             image="{{draggingTemplate.entity._options.image}}"
                                             additionalText="{{draggingTemplate.entity._options.additionalText}}">
                                 </ws:partial>
                              </ws:draggingTemplate>
                           </Controls.treeGrid:View>
                        </Controls.masterDetail:List>
                     </Controls.list:Container>
                  </div>
               </Controls.list:DataContainer>
            </Controls.scroll:Container>
         </div>
      </ws:master>
      <ws:detail>
         <div class="ws-flexbox ws-flex-column ws-flex-grow-1">
            <Controls.scroll:Container attr:class="demo-DragNDrop__MasterDetail_detail">
               <Controls.list:DataContainer name="dataContainer" source="{{_detailSource}}" keyProperty="id">
                  <div>
                     <Controls.list:Mover name="detailMover"/>
                     <Controls.list:Container scope="{{content}}">
                        <Controls.columns:View
                                keyProperty="id"
                                useNewModel="{{true}}"
                                source="{{ _viewSource }}"
                                columnsMode="auto"
                                name="detailList"
                                itemsReadyCallback="{{_itemsReadyCallbackDetail}}"
                                itemsDragNDrop="{{true}}"
                                on:dragStart="_dragStartDetail()"
                                on:dragEnd="_dragEndDetail()"
                                bind:selectedKeys="_selectedKeys"
                                multiSelectVisibility="visible"
                                markerVisibility="visible">
                           <ws:filter parent="{{detail.selectedMasterValue || '0'}}">
                           </ws:filter>
                           <ws:itemTemplate>
                              <ws:partial template="Controls/listRender:ColumnsItemTemplate" highlightOnHover="{{false}}">
                                 <ws:contentTemplate>
                                    <ws:partial
                                            item="{{itemTemplate.item.getContents()}}"
                                            template="wml!Controls-demo/DragNDrop/MasterDetail/itemTemplates/TaskItemTemplate"
                                    />
                                 </ws:contentTemplate>
                              </ws:partial>
                           </ws:itemTemplate>
                           <ws:draggingTemplate>
                              <ws:partial template="Controls/dragnDrop:DraggingTemplate"
                                          mainText="{{draggingTemplate.entity._options.mainText}}"
                                          image="{{draggingTemplate.entity._options.image}}"
                                          additionalText="{{draggingTemplate.entity._options.additionalText}}">
                              </ws:partial>
                           </ws:draggingTemplate>
                        </Controls.columns:View>
                     </Controls.list:Container>
                  </div>
               </Controls.list:DataContainer>
            </Controls.scroll:Container>
         </div>
      </ws:detail>
   </Controls.masterDetail:Base>
</div>
